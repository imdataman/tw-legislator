(function(t){function n(n){for(var r,a,u=n[0],s=n[1],c=n[2],p=0,f=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(n);while(f.length)f.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,u=1;u<e.length;u++){var s=e[u];0!==i[s]&&(r=!1)}r&&(o.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},i={app:0},o=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=n,u=u.slice();for(var c=0;c<u.length;c++)n(u[c]);var l=s;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var r=e("85ec"),i=e.n(r);i.a},"54ae":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("Scrolly")],1)},o=[],a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"main"}})},u=[],s=(e("4de4"),e("caad"),e("b0c0"),e("ac1f"),e("466d"),e("96cf"),e("1da1")),c=e("5698"),l=(e("5abe"),e("d11d")),p=e.n(l),f={name:"Scrolly",mounted:function(){var t=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),n=t?10:30,e=2*n,r=1.2*n,i=1.5,o=.2,a=window.innerWidth,u=window.innerHeight,l=[a/2,u/2],f=0,d=.6*a,h=.6*l[0],y=.6*l[1],g=0,m=.6*u,b=void 0,v=void 0,x=c["k"]([30,40,50,60,70],[a/5,2*a/6,3*a/6,4*a/6,5*a/6,6*a/6]),k=c["k"]([30,40,50,60,70],[u/5,2*u/6,3*u/6,4*u/6,5*u/6,6*u/6]),w=c["j"](["民主進步黨","中國國民黨","台灣民眾黨","時代力量","台灣基進","無黨籍"],[f,d,h,h,h,h]),j=c["j"](["民主進步黨","中國國民黨","台灣民眾黨","時代力量","台灣基進","無黨籍"],[g,m,y,y,y,y]),O=c["k"]([2,6],[f,h,d]),A=c["k"]([2,6],[g,y,m]),_=c["j"](["男","女"],[a/6,d]),P=c["j"](["男","女"],[u/6,m]),S=[{step:0,desktop:function(){return c["h"]((function(){return l[0]})).strength(o)},mobile:function(){return c["i"]((function(){return l[0]})).strength(o)},text:"2020立法委員選舉總共選出 <span>113</span> 名立法委員"},{step:1,desktop:function(){return c["h"]((function(t){return w(t.party)})).strength(i)},mobile:function(){return c["i"]((function(t){return j(t.party)})).strength(i)},text:"民進黨 <span>62</span> 席 國民黨 <span>38</span> 席 第三勢力 <span>13</span> 席"},{step:2,desktop:function(){return c["h"]((function(t){return["陳椒華","林昶佐","陳柏惟","趙正宇","王婉諭","邱顯智"].includes(t.name)?f:["邱臣遠","高虹安","蔡壁如","張其祿","傅崐萁","高金素梅Ciwas Ali","賴香伶"].includes(t.name)?d:w(t.party)})).strength(i)},mobile:function(){return c["i"]((function(t){return["陳椒華","林昶佐","陳柏惟","趙正宇","王婉諭","邱顯智"].includes(t.name)?g:["邱臣遠","高虹安","蔡壁如","張其祿","傅崐萁","高金素梅Ciwas Ali","賴香伶"].includes(t.name)?m:j(t.party)})).strength(i)},text:"時力、基進及友綠立委算入綠營</br>台民與友藍立委算入藍營</br>綠營共 <span>68</span> 席 藍營共 <span>45</span> 席"},{step:3,desktop:function(){var t=c["b"]().scale(x).tickValues([30,40,50,60,70]);return v=E.append("g").attr("class","axis").call(t).attr("transform","translate("+-a/5+", "+.9*u+")"),c["h"]((function(t){return x(t.age)})).strength(i)},mobile:function(){var t=c["a"]().scale(k).tickValues([30,40,50,60,70]);return v=E.append("g").attr("class","axis").call(t).attr("transform","translate("+a/10+", "+-u/6+")"),c["i"]((function(t){return k(t.age)})).strength(i)},text:"依年齡分類</br><span>50</span> 世代人數最多</br>國民黨立委集中在 <span>60</span> 世代</br>最年輕和最年長都來自民進黨"},{step:4,desktop:function(){return c["h"]((function(t){return O(t.term)})).strength(i)},mobile:function(){return c["i"]((function(t){return A(t.term)})).strength(i)},text:"依照任期分類</br><span>38</span> 名立委是立院新鮮人</br><span>67</span> 名立委任期介於1-5屆</br><span>8</span> 名立委即將邁入第六屆以上"},{step:5,desktop:function(){return c["h"]((function(t){return _(t.gender)})).strength(i)},mobile:function(){return c["i"]((function(t){return P(t.gender)})).strength(i)},text:"依照性別分類</br><span>66</span> 名立委是男性</br><span>47</span> 名立委是女性</br>女性立委比率首度突破 <span>40%</span>"},{step:6,desktop:function(){return c["m"](".node").style("pointer-events","none").style("cursor","auto"),c["l"]("#buttonContainer").transition().style("display","none"),c["h"]((function(){return l[0]})).strength(o)},mobile:function(){return c["l"](".clicked")&&c["l"](".clicked").classed("clicked",!1),b&&(c["m"](".node").filter((function(t){return t.id==b})).transition().attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(){return 2*n})).attr("width",(function(){return 2*n})),c["l"](".tooltip").transition().style("opacity",0)),b=void 0,c["m"](".node").style("pointer-events","none").style("cursor","auto"),c["l"]("#buttonContainer").transition().style("display","none"),c["i"]((function(){return l[0]})).strength(o)},text:'以下讀者可自行探索資料</br>可選擇各種類別分類資料</br>點擊頭像可得基本資料</br><span id="byline">製作 <a href="https://github.com/imdataman" target="_blank">林佳賢</a> <a href="https://github.com/imdataman/tw-legislator" target="_blank">Github</a></span>'},{step:7,desktop:function(){return c["m"](".node").style("pointer-events","auto").style("cursor","pointer"),c["l"]("#buttonContainer").transition().style("display","flex"),c["h"]((function(){return l[0]})).strength(o)},mobile:function(){return c["m"](".node").style("pointer-events","auto").style("cursor","pointer"),c["l"]("#buttonContainer").transition().style("display","flex"),c["i"]((function(){return l[0]})).strength(o)},text:""}],C=c["l"]("#main").append("section").attr("id","scrolly");C.append("article").selectAll(".step").data(S).enter().append("div").attr("class","step").append("p").attr("id",(function(t){return"p"+t.step})).html((function(t){return t.text}));var E=c["l"]("#scrolly").append("svg"),T=E.append("g").attr("id","vis"),M=c["l"]("body").append("div").attr("class","tooltip").style("opacity",0),$=c["h"](l[0]).strength(.5),z=c["i"](l[1]).strength(.5),B=c["g"]();t?B.force("y",S[0].mobile()).force("x",$).force("center",c["e"](l[0],l[1])).force("collide",c["f"]((function(){return r})).strength(i).iterations(100)):B.force("x",S[0].desktop()).force("y",z).force("center",c["e"](l[0],l[1])).force("collide",c["f"]((function(){return r})).strength(i).iterations(100));var D=p()();function J(){return R.apply(this,arguments)}function R(){return R=Object(s["a"])(regeneratorRuntime.mark((function r(){var i,o,a,u,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=function(){v&&v.remove()},u=function(n){t?B.force("y",S[n.index].mobile()).alphaTarget(.1).alphaDecay(1).restart():B.force("x",S[n.index].desktop()).alphaTarget(.1).alphaDecay(1).restart()},a=function(){o.attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y}))},r.next=5,c["c"]("./data/legislator_full.csv");case 5:i=r.sent,D.setup({step:"#scrolly article .step",offset:.5}).onStepEnter(u).onStepExit(s),window.addEventListener("resize",D.resize),o=T.selectAll(".node").data(i).enter().append("svg:image").attr("class","node").attr("width",(function(){return 2*n})).attr("height",(function(){return 2*n})).attr("xlink:href",(function(t){return"./image/"+t.id+".png"})).style("pointer-events","none"),t?(o.on("click",(function(t){c["d"].stopPropagation(),B.stop(),b&&o.filter((function(t){return t.id==b})).transition().attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(){return 2*n})).attr("width",(function(){return 2*n})),o.filter((function(n){return n.id==t.id})).raise().transition().attr("x",(function(t){return t.x-(e-n)})).attr("y",(function(t){return t.y-(e-n)})).attr("height",(function(){return 2*e})).attr("width",(function(){return 2*e})),M.transition().style("opacity",.9);var r=[o.filter((function(n){return n.id==t.id})).datum().x,o.filter((function(n){return n.id==t.id})).datum().y];M.html(t.name+"</br>"+t.age+"歲</br>第"+t.term+"任").style("left",r[0]+e+(e-n)+"px").style("top",r[1]+"px"),b=t.id})),E.on("click",(function(){B.stop(),b&&(o.filter((function(t){return t.id==b})).transition().attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(){return 2*n})).attr("width",(function(){return 2*n})),M.transition().style("opacity",0)),b=void 0}))):o.on("mouseover",(function(t){B.stop(),o.filter((function(n){return n.id==t.id})).raise().transition().attr("x",(function(t){return t.x-(e-n)})).attr("y",(function(t){return t.y-(e-n)})).attr("height",(function(){return 2*e})).attr("width",(function(){return 2*e})),M.transition().style("opacity",.9);var r=[o.filter((function(n){return n.id==t.id})).datum().x,o.filter((function(n){return n.id==t.id})).datum().y];M.html(t.name+"</br>"+t.age+"歲</br>第"+t.term+"任").style("left",r[0]+e+(e-n)+"px").style("top",r[1]+"px")})).on("mouseout",(function(t){B.stop(),o.filter((function(n){return n.id==t.id})).transition().attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(){return 2*n})).attr("width",(function(){return 2*n})),M.transition().style("opacity",0)})),c["l"]("body").append("div").attr("id","buttonContainer").selectAll(".button").data([{name:"打散",response:{index:0}},{name:"政黨",response:{index:1}},{name:"陣營",response:{index:2}},{name:"年齡",response:{index:3}},{name:"任期",response:{index:4}},{name:"性別",response:{index:5}}]).enter().append("div").attr("class","button").text((function(t){return t.name})).on("click",(function(t){c["l"](".clicked")&&c["l"](".clicked").classed("clicked",!1),b&&(o.filter((function(t){return t.id==b})).transition().attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(){return 2*n})).attr("width",(function(){return 2*n})),M.transition().style("opacity",0)),b=void 0,c["l"](this).classed("clicked",!0),u(t.response),3!=t.response.index&&s()})),B.nodes(i).on("tick",a);case 12:case"end":return r.stop()}}),r)}))),R.apply(this,arguments)}J()}},d=f,h=(e("d995"),e("2877")),y=Object(h["a"])(d,a,u,!1,null,null,null),g=y.exports,m={name:"app",components:{Scrolly:g}},b=m,v=(e("034f"),Object(h["a"])(b,i,o,!1,null,null,null)),x=v.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(x)}}).$mount("#app")},"85ec":function(t,n,e){},d995:function(t,n,e){"use strict";var r=e("54ae"),i=e.n(r);i.a}});
//# sourceMappingURL=app.b450ee53.js.map